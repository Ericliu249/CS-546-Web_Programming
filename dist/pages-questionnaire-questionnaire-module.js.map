{"version":3,"sources":["webpack:///./src/app/admin/pages/questionnaire/questionnaire.component.html","webpack:///./src/app/admin/pages/questionnaire/questionnaire.component.ts","webpack:///./src/app/admin/pages/questionnaire/questionnaire.module.ts"],"names":[],"mappings":"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","file":"pages-questionnaire-questionnaire-module.js","sourcesContent":["module.exports = \"<div class=\\\"m-content\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-md-12\\\">\\r\\n            <!--begin::Portlet-->\\r\\n            <div class=\\\"m-portlet m-portlet--tab\\\">\\r\\n                <div class=\\\"m-portlet__head\\\">\\r\\n                    <div class=\\\"m-portlet__head-caption\\\">\\r\\n                        <div class=\\\"m-portlet__head-title\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"m-portlet__head-icon m--hide\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<i class=\\\"la la-gear\\\"></i>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</span>\\r\\n                            <h3 class=\\\"m-portlet__head-text\\\">\\r\\n                                My Profile\\r\\n                            </h3>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"m-portlet__body\\\">\\r\\n                    <!--begin::Section-->\\r\\n                    <div class=\\\"m-section\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"m-section__sub\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</span>\\r\\n                        <div class=\\\"m-section__content\\\">\\r\\n                            <div class=\\\"m-demo\\\" data-code-preview=\\\"true\\\" data-code-html=\\\"true\\\" data-code-js=\\\"false\\\">\\r\\n                                <div class=\\\"m-demo__preview\\\">\\r\\n                                    <!--begin::Form-->\\r\\n                                    <form class=\\\"m-form\\\" (ngSubmit)=\\\"update()\\\" action=\\\"\\\" id=\\\"updateF\\\">\\r\\n                                        <div class=\\\"m-form__group form-group\\\">\\r\\n                                            <label for=\\\"\\\">\\r\\n                                                What type of places do you like to visit?\\r\\n                                            </label>\\r\\n                                            <div class=\\\"m-checkbox-list\\\">\\r\\n                                                <label class=\\\"m-checkbox\\\" *ngFor=\\\"let test of interestPlaces\\\" >\\r\\n                                                    <input type=\\\"checkbox\\\" name=\\\"{{test.name}}\\\" value=\\\"{{test.value}}\\\" [checked]=\\\"test.isChecked\\\">\\r\\n                                                    {{test.selected}}\\r\\n                                                    <span></span>\\r\\n                                                </label>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        <div class=\\\"m-form__group form-group\\\">\\r\\n                                            <label>\\r\\n                                                How far are you willing to travel from your hotel?\\r\\n                                            </label>\\r\\n                                            <div class=\\\"m-radio-list\\\">\\r\\n                                                <label class=\\\"m-radio m-radio--state-success\\\" *ngFor=\\\"let test of preferDistance\\\" >\\r\\n                                                    <input type=\\\"radio\\\" name=\\\"{{test.name}}\\\" value=\\\"{{test.value}}\\\" [checked]=\\\"test.isChecked\\\">\\r\\n                                                    {{test.selected}}\\r\\n                                                    <span></span>\\r\\n                                                </label>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        <div class=\\\"m-form__group form-group\\\">\\r\\n                                            <label>\\r\\n                                                Do you have any dietary restrictions?\\r\\n                                            </label>\\r\\n                                            <div class=\\\"m-checkbox-list\\\">\\r\\n                                                <label class=\\\"m-checkbox m-checkbox--state-brand\\\" *ngFor=\\\"let test of dietaryRestrictions\\\" >\\r\\n                                                    <input type=\\\"checkbox\\\" name=\\\"{{test.name}}\\\" value=\\\"{{test.value}}\\\" [checked]=\\\"test.isChecked\\\">\\r\\n                                                    {{test.selected}}\\r\\n                                                    <span></span>\\r\\n                                                </label>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        <div class=\\\"m-form__group form-group\\\">\\r\\n                                            <label>\\r\\n                                                What type of food do you like?\\r\\n                                            </label>\\r\\n                                            <div class=\\\"m-checkbox-list\\\">\\r\\n                                                <label class=\\\"m-checkbox m-checkbox--state-primary\\\" *ngFor=\\\"let test of preferredFood\\\" >\\r\\n                                                    <input type=\\\"checkbox\\\" name=\\\"{{test.name}}\\\" value=\\\"{{test.value}}\\\" [checked]=\\\"test.isChecked\\\">\\r\\n                                                    {{test.selected}}\\r\\n                                                    <span></span>\\r\\n                                                </label>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        <div class=\\\"m-login__form-action\\\">\\r\\n                                        <button [disabled]=\\\"loading\\\" [ngClass]=\\\"{'m-loader m-loader--right m-loader--light': loading}\\\" id=\\\"m_update\\\"\\r\\n                                                class=\\\"btn btn-focus m-btn m-btn&#45;&#45;pill m-btn&#45;&#45;custom m-btn&#45;&#45;air\\\">\\r\\n                                            Update\\r\\n                                        </button>\\r\\n                                        </div>\\r\\n                                    </form>\\r\\n                                    <!--end::Form-->\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <!--end::Section-->\\r\\n                </div>\\r\\n            </div>\\r\\n            <!--end::Portlet-->\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"","///<reference path=\"../../../interfaces/angular-interfaces.ts\"/>\r\nimport {ScriptLoaderService} from './../../../_services/script-loader.service';\r\nimport {Component, OnInit, ViewEncapsulation, AfterViewInit, AfterContentInit, Input} from '@angular/core';\r\nimport {Router, NavigationStart, NavigationEnd, ActivatedRoute} from '@angular/router';\r\nimport {HttpClient, HttpEventType, HttpHeaders, HttpParams, HttpRequest} from \"@angular/common/http\";\r\nimport {ToastrService} from 'ngx-toastr';\r\nimport {Observable} from \"rxjs\";\r\nimport * as _ from 'lodash';\r\nimport {map} from 'rxjs/operators';\r\nimport {Place, UserInfo} from \"../../../interfaces/angular-interfaces\";\r\nimport {DomSanitizer, SafeHtml} from '@angular/platform-browser';\r\nimport * as $ from 'jquery';\r\nimport {noop} from \"rxjs/internal-compatibility\";\r\n\r\n@Component({\r\n    selector: 'app-place',\r\n    templateUrl: './questionnaire.component.html',\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class QuestionnaireComponent implements OnInit, AfterViewInit, AfterContentInit {\r\n    user: Observable<UserInfo>;\r\n    preferredFood: {};\r\n    interestPlaces: {};\r\n    preferDistance: {};\r\n    dietaryRestrictions: {};\r\n    model: any = {};\r\n\r\n    constructor(private _script: ScriptLoaderService,\r\n                private toastr: ToastrService,\r\n                private http: HttpClient,\r\n                private _router: ActivatedRoute,\r\n                private sanitizer: DomSanitizer) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        let id = localStorage.getItem('currentUser');\r\n        this.user = this._script.getUserById(this.http, JSON.parse(id).id);\r\n        this.user.subscribe(success => {\r\n            this.preferredFood = success.preferredFood;\r\n            this.preferDistance = success.preferDistance;\r\n            this.dietaryRestrictions = success.dietaryRestrictions;\r\n            this.interestPlaces = success.interestPlaces;\r\n        });\r\n        $('#updateF').submit((e) => {\r\n            console.log(\"submit\");\r\n            let form = $(e.target).closest('form');\r\n            form.validate({\r\n                rules: {\r\n                    /*email: {\r\n                        required: true,\r\n                        email: true,\r\n                    },\r\n                    password: {\r\n                        required: true,\r\n                    },*/\r\n                },\r\n            });\r\n            if (!form.valid()) {\r\n                e.preventDefault();\r\n                return;\r\n            }\r\n            this.update();\r\n        });\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this._script.loadScripts('app-index', ['assets/app/js/dashboard.js']);\r\n    }\r\n\r\n    ngAfterContentInit() {\r\n    }\r\n\r\n    update() {\r\n        console.log(this.model);\r\n        this._script.update(this.http, this.model).subscribe(success => {\r\n            console.log(success);\r\n        }, error => {\r\n            console.log(error);\r\n        });\r\n    }\r\n}","import { TemplateComponent } from './../../../shared/layouts/template/template.component';\r\n\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { SharedModule } from './../../../shared/shared.module';\r\nimport {QuestionnaireComponent} from \"./questionnaire.component\";\r\n\r\nconst routes: Routes = [\r\n    {\r\n        'path': '',\r\n        'component': TemplateComponent,\r\n        'children': [\r\n            {\r\n                'path': '',\r\n                'component': QuestionnaireComponent,\r\n            },\r\n        ],\r\n    },\r\n];\r\n\r\n@NgModule({\r\n    imports: [\r\n        SharedModule, RouterModule.forChild(routes),\r\n    ], exports: [\r\n        RouterModule,\r\n    ], declarations: [\r\n        QuestionnaireComponent,\r\n    ],\r\n})\r\nexport class QuestionnaireModule {\r\n}"],"sourceRoot":""}